{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Footer from'../components/Footer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){const[credentials,setcredentials]=useState({name:\"\",email:\"\",password:\"\"});let navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const response=await fetch(\"http://localhost:5000/api/loginuser\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});const json=await response.json();console.log(json);if(!json.success){alert(\"Enter Valid Credentials\");}if(json.success){localStorage.setItem(\"userEmail\",credentials.email);localStorage.setItem(\"authToken\",json.authToken);alert(\"Success! Welcome Back!\");navigate(\"/\");}};const onChange=event=>{setcredentials({...credentials,[event.target.name]:event.target.value});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:'body { background-image: url(\"https://cdn.pixabay.com/photo/2015/11/19/21/10/glasses-1052010_640.jpg\"); height : 100% ; background-size: cover; background-repeat: no-repeat;}'}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark m-5 rounded d-flex flex-column min-vh-100\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"m-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 ml-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:credentials.email,id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",onChange:onChange}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 ml-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",value:credentials.password,id:\"exampleInputPassword1\",onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\" btn btn-success\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/createuser\",className:\"m-3 btn btn-danger\",children:\"I'm a new user\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark mt-auto\",children:/*#__PURE__*/_jsx(Footer,{})})]})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","credentials","setcredentials","name","email","password","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","json","console","log","success","alert","localStorage","setItem","authToken","onChange","event","target","value","children","className","onSubmit","htmlFor","type","id","to"],"sources":["C:/Users/Akarshan/Desktop/web/mernapp/src/screens/Login.js"],"sourcesContent":["import React,{useState} from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Footer from '../components/Footer';\r\n\r\nexport default function Login() {\r\n  const [credentials, setcredentials] = useState({name:\"\",email:\"\",password:\"\"})\r\n  let navigate = useNavigate();\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n        const response = await fetch(\"http://localhost:5000/api/loginuser\",{\r\n            method : 'POST',\r\n            headers : {\r\n                'Content-Type' : 'application/json'\r\n            },\r\n            body : JSON.stringify({email : credentials.email, password : credentials.password})\r\n         });\r\n          const json = await response.json()\r\n          console.log(json);\r\n\r\n          if(!json.success){\r\n            alert(\"Enter Valid Credentials\")\r\n          }\r\n          if(json.success){\r\n            localStorage.setItem(\"userEmail\",credentials.email);\r\n            localStorage.setItem(\"authToken\",json.authToken);\r\n            alert(\"Success! Welcome Back!\");\r\n            navigate(\"/\");\r\n          }\r\n          \r\n    }\r\n    const onChange = (event) =>{\r\n      setcredentials({...credentials,[event.target.name] : event.target.value})\r\n    }\r\n  return (\r\n    <>\r\n    <style>{'body { background-image: url(\"https://cdn.pixabay.com/photo/2015/11/19/21/10/glasses-1052010_640.jpg\"); height : 100% ; background-size: cover; background-repeat: no-repeat;}'}</style>\r\n\r\n    <div className='bg-dark m-5 rounded d-flex flex-column min-vh-100'>\r\n      <form onSubmit={handleSubmit} className='m-5'>\r\n            <div className=\"mb-3 ml-5\">\r\n            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              name = 'email'\r\n              value={credentials.email}\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={onChange}\r\n            />\r\n            <div id=\"emailHelp\" className=\"form-text\">\r\n              We'll never share your email with anyone else.\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3 ml-5\">\r\n            <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"password\"\r\n              value={credentials.password}\r\n              id=\"exampleInputPassword1\"\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\" btn btn-success\">\r\n            Submit\r\n          </button>\r\n          <Link to = \"/createuser\" className = \"m-3 btn btn-danger\">I'm a new user</Link>\r\n        </form>\r\n        <div className='bg-dark mt-auto'><Footer/></div>\r\n    </div>\r\n  </>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}