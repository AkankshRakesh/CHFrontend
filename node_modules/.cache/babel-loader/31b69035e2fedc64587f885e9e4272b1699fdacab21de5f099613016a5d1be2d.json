{"ast":null,"code":"import React,{useEffect,useState}from'react';import Footer from'../components/Footer';import Navbar from'../components/Navbar';import PathwayModal from'../Modal2';// Import the modal component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyOrder(){const[orderData,setOrderData]=useState({});const[modalIsOpen,setModalIsOpen]=useState(false);const[pathwayData,setPathwayData]=useState(null);useEffect(()=>{// Check if the page has already been reloaded\nif(!sessionStorage.getItem('reloaded')){sessionStorage.setItem('reloaded','true');window.location.reload();}},[]);const fetchMyOrder=async()=>{await fetch(\"http://localhost:5000/api/myOrderData\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:localStorage.getItem('userEmail')})}).then(async res=>{let response=await res.json();setOrderData(response);});};useEffect(()=>{fetchMyOrder();},[]);const handleCardClick=arrayData=>{setPathwayData(arrayData);setModalIsOpen(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Navbar,{fixedTop:false})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:Object.keys(orderData).length!==0?orderData.careerData?orderData.careerData.career_data.slice(0).reverse().map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[item.some(arrayData=>arrayData.Career_date)&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:item.find(arrayData=>arrayData.Career_date).Career_date}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:item.map((arrayData,idx)=>arrayData.Career_date?null:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-container mt-3\",style:{width:\"100%\",maxHeight:\"360px\"},onClick:()=>handleCardClick(arrayData),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:arrayData.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"100%\"},children:[/*#__PURE__*/_jsx(\"h6\",{children:\"The skills you'll need for sure\"}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.skills})]})]})})},idx))})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"No orders found\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"})})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(PathwayModal,{isOpen:modalIsOpen,onRequestClose:()=>setModalIsOpen(false),pathwayData:pathwayData})]});}","map":{"version":3,"names":["React","useEffect","useState","Footer","Navbar","PathwayModal","jsx","_jsx","jsxs","_jsxs","MyOrder","orderData","setOrderData","modalIsOpen","setModalIsOpen","pathwayData","setPathwayData","sessionStorage","getItem","setItem","window","location","reload","fetchMyOrder","fetch","method","headers","body","JSON","stringify","email","localStorage","then","res","response","json","handleCardClick","arrayData","children","fixedTop","className","Object","keys","length","careerData","career_data","slice","reverse","map","item","index","some","Career_date","find","idx","style","width","maxHeight","onClick","name","height","skills","isOpen","onRequestClose"],"sources":["C:/Users/Akarshan/Desktop/web/mernapp/src/screens/MyOrder.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport PathwayModal from '../Modal2'; // Import the modal component\r\n\r\nexport default function MyOrder() {\r\n    const [orderData, setOrderData] = useState({});\r\n    const [modalIsOpen, setModalIsOpen] = useState(false);\r\n    const [pathwayData, setPathwayData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Check if the page has already been reloaded\r\n        if (!sessionStorage.getItem('reloaded')) {\r\n            sessionStorage.setItem('reloaded', 'true');\r\n            window.location.reload();\r\n        }\r\n    }, []);\r\n\r\n    const fetchMyOrder = async () => {\r\n        await fetch(\"http://localhost:5000/api/myOrderData\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email: localStorage.getItem('userEmail')\r\n            })\r\n        }).then(async (res) => {\r\n            let response = await res.json();\r\n            setOrderData(response);\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchMyOrder();\r\n    }, []);\r\n\r\n    const handleCardClick = (arrayData) => {\r\n        setPathwayData(arrayData);\r\n        setModalIsOpen(true);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div><Navbar fixedTop={false}/></div>\r\n            <div className='container'>\r\n                {Object.keys(orderData).length !== 0 ?\r\n                    orderData.careerData ?\r\n                        orderData.careerData.career_data.slice(0).reverse().map((item, index) => (\r\n                            <div key={index}>\r\n                                {item.some(arrayData => arrayData.Career_date) && (\r\n                                    <div className='w-100 mt-5'>\r\n                                        <h4 className='text-center'>{item.find(arrayData => arrayData.Career_date).Career_date}</h4>\r\n                                        <hr />\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"row\">\r\n                                    {item.map((arrayData, idx) => (\r\n                                        arrayData.Career_date ? null : (\r\n                                            <div key={idx} className='col-12 col-md-6 col-lg-3'>\r\n                                                <div className=\"card card-container mt-3\" style={{ width: \"100%\", maxHeight: \"360px\" }} onClick={() => handleCardClick(arrayData)}>\r\n                                                    <div className=\"card-body\">\r\n                                                        <h5 className=\"card-title\">{arrayData.name}</h5>\r\n                                                        <div className='container w-100 p-0' style={{ height: \"100%\" }}>\r\n                                                            <h6>The skills you'll need for sure</h6>\r\n                                                            <span className='m-1'>{arrayData.skills}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )) : <div className=\"text-center mt-5\"><h4>No orders found</h4></div>\r\n                    : <div className=\"text-center mt-5\"><h4>Loading...</h4></div>}\r\n            </div>\r\n            <Footer />\r\n            <PathwayModal\r\n                isOpen={modalIsOpen}\r\n                onRequestClose={() => setModalIsOpen(false)}\r\n                pathwayData={pathwayData}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}